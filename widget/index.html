<?xml version="1.0" encoding="utf-8"?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:widget="http://www.netvibes.com/ns/">
    <head>
        <widget:preferences>
            <widget:preference name="OperationChoice" type="list" label="Operation" defaultValue="NFirst" >
                <widget:option label="NFirst" value="NFirst"></widget:option>
                <widget:option label="Abs" value="Abs"></widget:option>
            </widget:preference>
        </widget:preferences>

    <script>
        /* global widget */
        (
            function ()
            {
                'use strict';

                var myWidget = 
                {
                    onLoad: function() {
                        widget.body.innerHTML= "Hello World! from script";
                        
                        require(['DS/i3DXCompassServices/i3DXCompassServices'],
                            function (i3DXCompassServices) {
                                'use strict';

                                i3DXCompassServices.getPlatformServices({

                                    onComplete: function (data) {
                                        console.log('&lt;b&gt;Get all platforms&lt;/b&gt; &lt;br&gt;&lt;br&gt;');

                                        data.forEach(function (platform) {

                                            console.log('platformId: ' + platform['platformId'] + '&lt;br&gt;');
                                            console.log('displayName: ' + platform['displayName'] + '&lt;br&gt;');
                                            console.log('3DCompass: ' + platform['3DCompass'] + '&lt;br&gt;');
                                            console.log('3DPassport: ' + platform['3DPassport'] + '&lt;br&gt;');
                                            console.log('3DSwym: ' + platform['3DSwym'] + '&lt;br&gt;&lt;br&gt;');
                                            console.log('3DSpace: ' + platform['3DSpace'] + '&lt;br&gt;&lt;br&gt;');
                                            console.log('3DDrive: ' + platform['3DDrive'] + '&lt;br&gt;&lt;br&gt;');
                                        });
                                    }
                                });
                            }
                        );
                    }
                };

                widget.addEvent('onLoad', myWidget.onLoad);
            }() 
        );
    </script>
    </head>
    <body>
        Hello World 1.0
    </body>
 </html>