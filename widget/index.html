<?xml version="1.0" encoding="utf-8"?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:widget="http://www.netvibes.com/ns/">
    <head>
        <widget:preferences>
            <widget:preference name="OperationChoice" type="list" label="Operation" defaultValue="NFirst" >
                <widget:option label="NFirst" value="NFirst"></widget:option>
                <widget:option label="Abs" value="Abs"></widget:option>
            </widget:preference>
        </widget:preferences>

    <script>
        /* global widget */
        (
            function ()
            {
                'use strict';

                var myWidget = 
                {
                    onLoad: function() {
                        widget.body.innerHTML= "Hello World! from script";
                        
                        require(["DS/i3DXCompassServices/i3DXCompassServices"], function(i3DXCompassServices)
                        {
                            i3DXCompassServices.getPlatformServices(undefined, {
                                onComplete: function (data) 
                                {
                                    console.log("NOT FAILED BLEN");
                    
                                    /*data.forEach(function (platform)
                                    {
                                        me.printMsg('platformId: ' + platform['platformId'] + '&lt;br&gt;');
                                        me.printMsg('displayName: ' + platform['displayName'] + '&lt;br&gt;');
                                        me.printMsg('3DCompass: ' + platform['3DCompass'] + '&lt;br&gt;');
                                        me.printMsg('3DPassport: ' + platform['3DPassport'] + '&lt;br&gt;');
                                        me.printMsg('3DSwym: ' + platform['3DSwym'] + '&lt;br&gt;&lt;br&gt;');
                                        me.printMsg('3DSpace: ' + platform['3DSpace'] + '&lt;br&gt;&lt;br&gt;');
                                        me.printMsg('3DDrive: ' + platform['3DDrive'] + '&lt;br&gt;&lt;br&gt;');
                                    });*/
                                },
                                onFailure: function ()
                                {
                                    console.log("failed BLEN");
                                }
                            });
                        });
                    }
                };

                widget.addEvent('onLoad', myWidget.onLoad);
            }() 
        );
    </script>
    </head>
    <body>
        Hello World 1.0
    </body>
 </html>