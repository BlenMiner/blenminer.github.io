(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{107:function(t,e,a){"use strict";var n=a(35);a.n(n).a},108:function(t,e,a){(t.exports=a(4)(!1)).push([t.i,"\nhtml, body {\n    overflow-y: auto !important;\n    height: 100%;\n}\n",""])},3:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a(5),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("div",[a("v-app-bar",{attrs:{dark:"",height:"50px"}},[a("v-toolbar-title",{staticClass:"headline"},[t._v("\n                WPM - Widget Project Management\n            ")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",fab:"","x-small":"",color:"green darken-1"}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-cached")])],1),t._v(" "),a("v-btn",{staticClass:"mx-2",attrs:{fab:"","x-small":"",color:"cyan darken-1"},on:{click:function(e){return t.toast("Created by VBU4")}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-information-variant")])],1)],1)],1),t._v(" "),a("v-content",[a("v-progress-linear",{attrs:{color:"blue accent-4",indeterminate:"",height:"10",active:t.loadingbar}}),t._v(" "),a("v-snackbar",{model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n            "+t._s(t.snackbarMsg)+"\n            "),a("v-btn",{attrs:{color:"grey",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                Close\n            ")])],1),t._v(" "),a("v-list-item",[a("projectGrid",{attrs:{projects:t.projects}}),t._v(" "),a("projectView",{attrs:{items:t.tabs,url:t.enoviaUrl,objectid:t.objectid}})],1)],1)],1)};s._withStripped=!0;var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"overflow-y-auto",staticStyle:{height:"calc(100vh - 75px)",width:"415px"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",[a("v-row",{staticClass:"grey lighten-3",attrs:{align:"start",justify:"start","no-gutters":""}},t._l(t.projects,(function(e,n){return a("v-card",{key:n,staticClass:"ma-1 pa-1",attrs:{"max-width":"100%","max-height":"150",outlined:"",tile:"",hover:""},on:{click:function(e){return t.select(n)}}},[a("v-list-item",[a("v-list-item-avatar",{attrs:{tile:"",size:"60"}},[a("v-img",{staticClass:"white--text align-end",attrs:{src:"https://blenminer.github.io/widgets/widget-template-vue/dist/static/images/project.png"}})],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",{staticClass:"mb-2"},[t._v(t._s(e.name))]),t._v(" "),a("v-list-item-subtitle",[t._v("Owner: "+t._s(e.description))]),t._v(" "),a("v-list-item-subtitle",[t._v("Date: "+t._s(e.deadline))])],1)],1)],1)})),1)],1)],1)],1)};r._withStripped=!0;var o=a(138);a(51),a(58);i.a.use(o.a);var c=new i.a,l=new o.a({icons:{iconfont:"mdi"}}),d={props:{projects:Array},methods:{select:function(t){c.$emit("selection_project",t)}}},u=a(24),p=a(25),v=a.n(p),m=a(142),b=a(131),h=a(141),f=a(121),g=a(32),_=a(48),w=a(12),j=a(132),V=Object(u.a)(d,r,[],!1,null,null,null);v()(V,{VCard:m.a,VCol:b.a,VContainer:h.a,VImg:f.a,VListItem:g.a,VListItemAvatar:_.a,VListItemContent:w.a,VListItemSubtitle:w.b,VListItemTitle:w.c,VRow:j.a}),V.options.__file="src/components/project-grid.vue";var k=V.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticStyle:{width:"100%"}},[a("v-tabs",{attrs:{"background-color":"#005685",dark:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,(function(e,n){return a("v-tab",{key:n},[t._v("\n            "+t._s(e.name)+"\n        ")])})),1),t._v(" "),a("v-tabs-items",{staticStyle:{height:"calc(100vh - 120px)"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,(function(e,n){return a("v-tab-item",{key:n},[a("v-card",{attrs:{flat:""}},[a("iframe",{staticStyle:{height:"calc(100vh - 120px)"},attrs:{src:t.url+e.url+t.objectid,width:"100%"}})])],1)})),1)],1)};S._withStripped=!0;var C={props:{items:Array,url:String,objectid:String},data:function(){return{tab:null}}},x=a(133),y=a(143),I=a(139),D=a(122),P=Object(u.a)(C,S,[],!1,null,null,null);v()(P,{VCard:m.a,VTab:x.a,VTabItem:y.a,VTabs:I.a,VTabsItems:D.a}),P.options.__file="src/components/project-view.vue";var A={name:"App",components:{projectGrid:k,projectView:P.exports},data:function(){return{snackbar:!1,snackbarMsg:"Bro",tenants:[],tenantId:0,loadingbar:!0,objectid:"",enoviaUrl:"https://r1132100006595-eu1-space.3dexperience.3ds.com/enovia",projects:[{id:"C745A4D6DB8A000080B84F5E43A50500",name:"Project Purple Planet",description:"efe",deadline:"20/09/1997"},{id:"pfft",name:"Project Red Planet",description:"fef",deadline:"20/09/1997"}],tabs:[{name:"Schedule Status",url:"/programcentral/ProgramCentralExecutionStatusReport.jsp?objectId="},{name:"Bussiness Status",url:"/programcentral/ProgramCentralBusinessStatusReport.jsp?objectId="}]}},computed:{message:function(){return this.$store.state.message}},watch:{},mounted:function(){var t=this,e=this;c.$on("toast",(function(t){e.toast(t)})),c.$on("selection_project",(function(t){e.objectid=e.projects[t].id,e.toast("hmm")})),void 0===widget.id?setTimeout((function(){e.tenantDataLoaded([{id:-1}])}),2e3):requirejs(["DS/i3DXCompassServices/i3DXCompassServices"],(function(e){e.getPlatformServices({platformId:void 0,onComplete:t.tenantDataLoaded})}))},methods:{toast:function(t){this.snackbarMsg=t,this.snackbar=!0},tenantDataLoaded:function(t){this.tenants=[];for(var e=[],a=0,n=0;n<t.length;n++)void 0!==t[n]["3DSpace"]&&(e.push({value:"".concat(a++),label:"".concat(t[n].platformId," - ").concat(t[n].displayName)}),this.tenants.push(t[n]));widget.addPreference({name:"_CurrentTenantID_",type:"list",label:"Tenant",defaultValue:"0",options:e}),widget.addPreference({name:"_Enovia_",type:"text",label:"Enovia URL",defaultValue:"https://r1132100006595-eu1-space.3dexperience.3ds.com/enovia"}),this.tenantId=widget.getValue("_CurrentTenantID_"),this.enoviaUrl=widget.getValue("_Enovia_"),c.$emit("toast",this.tenantId),void 0!==widget.id?this.retrieveAllProjects():this.loadingbar=!1},retrieveAllProjects:function(){var t=this,e=this;this.projects=[];var a,n,i=this.tenants[this.tenantId]["3DSpace"];a=i+"/resources/v1/modeler/projects",n={onComplete:function(a){for(var n=JSON.parse(a),i=0;i<n.data.length;i++){var s=n.data[i];e.projects.push({id:s.id,name:s.dataelements.name,description:s.dataelements.description,deadline:s.dataelements.estimatedFinishDate})}t.loadingbar=!1},onFailure:function(){t.loadingbar=!1}},requirejs(["DS/WAFData/WAFData"],(function(t){t.authenticatedRequest(a,n)}))}}},L=(a(107),a(134)),T=a(140),E=a(49),$=a(135),B=a(45),R=a(40),M=a(136),F=a(137),O=a(119),U=Object(u.a)(A,s,[],!1,null,null,null);v()(U,{VApp:L.a,VAppBar:T.a,VBtn:E.a,VContent:$.a,VIcon:B.a,VListItem:g.a,VProgressLinear:R.a,VSnackbar:M.a,VSpacer:F.a,VToolbarTitle:O.a}),U.options.__file="src/components/app.vue";var W=U.exports,q=a(120);i.a.use(q.a);var J=new q.a.Store({state:{},mutations:{},getters:{}});e.default=function(){widget.addEvent("onLoad",(function(){n.b.disableCSS(!0),window.title="Widget Project Management",widget.setTitle(window.title),new i.a({store:J,vuetify:l,render:function(t){return t(W)}}).$mount("app")})),widget.addEvent("onRefresh",(function(){c.$emit("toast","test")}))}},35:function(t,e,a){var n=a(108);"string"==typeof n&&(n=[[t.i,n,""]]);var i={insert:"head",singleton:!1};a(23)(n,i);n.locals&&(t.exports=n.locals)}}]);