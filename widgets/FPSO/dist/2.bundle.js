(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{13:function(e,t,n){var a=n(41);"string"==typeof a&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(12)(a,o);a.locals&&(e.exports=a.locals)},3:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n(4),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-content",[n("v-progress-linear",{attrs:{color:"blue accent-4",indeterminate:"",height:"10",active:e.loadingbar,absolute:"",app:""}}),e._v(" "),n("v-snackbar",{model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n            "+e._s(e.snackbarMsg)+"\n            "),n("v-btn",{attrs:{color:"grey",text:""},on:{click:function(t){e.snackbar=!1}}},[e._v("\n                Close\n            ")])],1),e._v(" "),""===e.fileId?n("center",[n("v-content",{staticStyle:{height:"100vh",width:"100%"}},[n("div",{ref:"drop",attrs:{id:"drop",width:"90vh",height:"90vh"}})])],1):n("v-content",[n("center",[n("v-card",{attrs:{width:"500px",height:"500px"}},[e._v("\n                    "+e._s(e.fileId)+"\n                ")])],1)],1)],1)],1)};i._withStripped=!0;var r=n(72);n(22),n(29);o.a.use(r.a);var d=new o.a,s=new r.a({icons:{iconfont:"mdi"}});var l={name:"App",components:{},data:function(){return{loadingbar:!0,sampleText:"",search:"",fileName:"",snackbarMsg:"",snackbar:!1,fileId:"",tenantId:-1,tenants:[]}},computed:{message:function(){return this.$store.state.message}},mounted:function(){var e=this,t=this;t.loadingbar=!0,d.$on("reloadwidget",(function(){t.reload()})),void 0===widget.id?setTimeout((function(){t.tenantDataLoaded([{id:-1}])}),500):(requirejs(["DS/i3DXCompassServices/i3DXCompassServices"],(function(t){t.getPlatformServices({platformId:void 0,onComplete:e.tenantDataLoaded})})),requirejs(["DS/PlatformAPI/PlatformAPI"],(function(e){e.subscribe("file_uploaded",(function(e){e===t.fileId&&t.reload()}))})),t.$refs.drop&&requirejs(["DS/DataDragAndDrop/DataDragAndDrop"],(function(e){e.droppable(t.$refs.drop,{drop:function(e,n,a){t.objectDroped(e,n,a)}})})))},methods:{log:function(e){this.snackbarMsg=e,this.snackbar=!0},reload:function(){var e,t,n=this;if(n.loadingbar=!0,n.tenantId=widget.getValue("_CurrentTenantID_"),n.fileId=widget.getValue("_FileID_"),n.fileName=widget.getValue("_FileName_"),void 0!==widget.id){var a=n.tenants[n.tenantId]["3DDrive"];""!==n.fileId?(e=a+"/resources/3ddrive/v1/bos/".concat(n.fileId,"/fileurl"),t={onComplete:function(e){var t=JSON.parse(e),n=t.url;console.log(t.extension+":"+n)},onFailure:function(e){n.log(e),n.loadingbar=!1}},requirejs(["DS/WAFData/WAFData"],(function(n){n.authenticatedRequest(e,t)}))):n.loadingbar=!1}else n.loadingbar=!1,n.fileId="1"},objectDroped:function(e,t,n){var a=JSON.parse(e);console.log("object dropped!",a),"3DXContent"===a.protocol&&(this.fileId=a.data.items[0].objectId,this.fileName=a.data.items[0].displayName,widget.setValue("_FileID_",this.fileId),widget.setValue("_FileName_",this.fileName),this.reload())},tenantDataLoaded:function(e){console.log("tenants: ",e),this.tenants=[];for(var t=[],n=0,a=0;a<e.length;a++)void 0!==e[a]["3DDrive"]&&(t.push({value:"".concat(n++),label:"".concat(e[a].platformId," - ").concat(e[a].displayName)}),this.tenants.push(e[a]));widget.addPreference({name:"_CurrentTenantID_",type:"list",label:"Tenant",defaultValue:"0",options:t}),widget.addPreference({name:"_FileID_",type:"text",label:"File Object ID",defaultValue:""}),widget.addPreference({name:"_FileName_",type:"text",label:"File Name",defaultValue:""}),d.$emit("reloadwidget")}}},c=(n(40),n(42)),u=n(43),f=n.n(u),p=n(70),g=n(73),v=n(74),b=n(75),h=n(20),m=n(71),w=Object(c.a)(l,i,[],!1,null,null,null);f()(w,{VApp:p.a,VBtn:g.a,VCard:v.a,VContent:b.a,VProgressLinear:h.a,VSnackbar:m.a}),w.options.__file="src/components/app.vue";var D=w.exports,_=n(62);o.a.use(_.a);var I=new _.a.Store({state:{},mutations:{},getters:{}});t.default=function(){widget.addEvent("onLoad",(function(){a.b.disableCSS(!0),window.title="Tablue Vue",widget.setTitle(window.title),new o.a({store:I,vuetify:s,render:function(e){return e(D)}}).$mount("app")})),widget.addEvent("onRefresh",(function(){d.$emit("reloadwidget")})),widget.addEvent("onSearch",(function(e){d.$emit("onSearch",e)})),widget.addEvent("onResetSearch",(function(){d.$emit("onSearch","")}))}},40:function(e,t,n){"use strict";var a=n(13);n.n(a).a},41:function(e,t,n){(e.exports=n(5)(!1)).push([e.i,"\nhtml, body {\n    overflow-y: auto !important;\n    width: 100%;\n    padding: 0;\n    margin: 0;\n    background-color:#ffffff;\n}\n#drop {\n    width: 90vh;\n    height: 90vh;\n\n    border-style: dashed;\n    border-color: lightgray;\n    border-width: 4px;\n    border-radius: 20%;\n\n    background-image: url(https://blenminer.github.io/widgets/LiveTables/assets/cloud.png);\n    background-size: 60%;\n    background-repeat: no-repeat;\n    background-position: center;\n    background-color: #f7f7f7;\n\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    -ms-transform: translate(-50%, -50%);\n    transform: translate(-50%, -50%);\n}\n",""])}}]);