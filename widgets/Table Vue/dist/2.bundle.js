(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{17:function(t,e,n){var a=n(78);"string"==typeof a&&(a=[[t.i,a,""]]);var o={insert:"head",singleton:!1};n(16)(a,o);a.locals&&(t.exports=a.locals)},3:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n(4),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-content",[n("preferences"),t._v(" "),n("v-progress-linear",{attrs:{color:"blue accent-4",indeterminate:"",height:"10",active:t.loadingbar,absolute:"",app:""}}),t._v(" "),n("v-snackbar",{model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n            "+t._s(t.snackbarMsg)+"\n            "),n("v-btn",{attrs:{color:"grey",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                Close\n            ")])],1),t._v(" "),n("center",[n("v-content",{staticStyle:{height:"100vh",width:"100%"}},[n("v-card",{ref:"drop",attrs:{id:"drop",width:"90vh",height:"90vh"}})],1)],1)],1)],1)};r._withStripped=!0;var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"max-width":"80%"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",{attrs:{"min-height":"90vh"}},[n("v-toolbar",{staticStyle:{"background-color":"#005685"},attrs:{dark:"",flat:""}},[n("v-toolbar-title",[t._v("Tab settings")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{icon:""}},[n("v-icon",[t._v("mdi-information")])],1)],1),t._v(" "),n("v-card-text",[t._v("\n            Some text\n        ")])],1)],1)};i._withStripped=!0;var s={props:{},data:function(){return{dialog:!1}},mounted:function(){},methods:{}},c=n(19),d=n(20),l=n.n(d),u=n(100),p=n(30),f=n(15),g=n(99),v=n(94),b=n(95),h=n(28),m=n(26),w=Object(c.a)(s,i,[],!1,null,null,null);l()(w,{VBtn:u.a,VCard:p.a,VCardText:f.a,VDialog:g.a,VIcon:v.a,VSpacer:b.a,VToolbar:h.a,VToolbarTitle:m.a}),w.options.__file="src/components/preferences.vue";var _=w.exports,D=n(98);n(62),n(69);o.a.use(D.a);var k=new o.a,S=new D.a({icons:{iconfont:"mdi"}});function C(t,e){requirejs(["DS/WAFData/WAFData"],(function(n){n.authenticatedRequest(t,e)}))}var V={name:"App",components:{preferences:_},data:function(){return{loadingbar:!0,sampleText:"test,test1,test2",snackbarMsg:"",snackbar:!1,tenantId:-1,tenants:[],tenant:this.tenantId>-1&&this.tenantId<this.tenants.length?this.tenants[this.tenantId]:null}},computed:{message:function(){return this.$store.state.message}},mounted:function(){var t=this,e=this;e.loadingbar=!0,k.$on("reloadwidget",(function(){e.reload()})),void 0===widget.id?setTimeout((function(){e.tenantDataLoaded([{id:-1}])}),2e3):(this.projects={},requirejs(["DS/i3DXCompassServices/i3DXCompassServices"],(function(e){e.getPlatformServices({platformId:void 0,onComplete:t.tenantDataLoaded})})),requirejs(["DS/DataDragAndDrop/DataDragAndDrop"],(function(t){t.droppable(e.$refs.drop,{drop:function(t,n,a){e.objectDroped(t,n,a)}})})))},methods:{log:function(t){this.snackbarMsg=t,this.snackbar=!0},getCSRF:function(t,e){var n=this;C(n.tenant["3DSpace"]+"/resources/v1/application/CSRF",{onComplete:function(e){var n=JSON.parse(e);t(n.csrf.value)},onFailure:function(t){n.log(t),e()}})},reload:function(){var t=this;if(t.tenantId=widget.getValue("_CurrentTenantID_"),t.fileId=widget.getValue("_FileID_"),void 0!==widget.id){var e=t.tenant["3DSpace"];t.getCSRF((function(n){C(e+"/resources/v1/modeler/documents/".concat(t.fileId,"/files/DownloadTicket"),{method:"PUT",headers:{ENO_CSRF_TOKEN:n},onComplete:function(e){C(JSON.parse(e).data[0].dataelements.ticketURL,{onComplete:function(e){t.displayFileData(e),t.loadingbar=!1},onFailure:function(e){t.log(e),t.loadingbar=!1}})},onFailure:function(e){t.log(e),t.loadingbar=!1}})}),(function(){t.loadingbar=!1}))}else t.loadingbar=!1},objectDroped:function(t,e,n){console.log(t)},displayFileData:function(t){this.sampleText=t},tenantDataLoaded:function(t){this.tenants=[];for(var e=[],n=0,a=0;a<t.length;a++)void 0!==t[a]["3DSpace"]&&(e.push({value:"".concat(n++),label:"".concat(t[a].platformId," - ").concat(t[a].displayName)}),this.tenants.push(t[a]));widget.addPreference({name:"_CurrentTenantID_",type:"list",label:"Tenant",defaultValue:"0",options:e}),widget.addPreference({name:"_FileID_",type:"text",label:"File Object ID",defaultValue:""}),k.$emit("reloadwidget")}}},T=(n(77),n(96)),x=n(101),I=n(29),y=n(97),F=Object(c.a)(V,r,[],!1,null,null,null);l()(F,{VApp:T.a,VBtn:u.a,VCard:p.a,VContent:x.a,VProgressLinear:I.a,VSnackbar:y.a}),F.options.__file="src/components/app.vue";var j=F.exports,$=n(85);o.a.use($.a);var L=new $.a.Store({state:{},mutations:{},getters:{}});e.default=function(){widget.addEvent("onLoad",(function(){a.b.disableCSS(!0),window.title="Widget Project Management",widget.setTitle(window.title),new o.a({store:L,vuetify:S,render:function(t){return t(j)}}).$mount("app")})),widget.addEvent("onRefresh",(function(){k.$emit("reloadwidget")}))}},77:function(t,e,n){"use strict";var a=n(17);n.n(a).a},78:function(t,e,n){(t.exports=n(5)(!1)).push([t.i,"\nhtml, body {\n    overflow-y: auto !important;\n    width: 100%;\n    padding: 0;\n    margin: 0;\n    background-color:#ffffff;\n}\n#drop {\n    width: 20em;\n    height: 20em;\n\n    border-style: dashed;\n    border-color: lightgray;\n    border-width: 4px;\n    border-radius: 20%;\n\n    background-image: url(https://blenminer.github.io/widgets/LiveTables/assets/cloud.png);\n    background-size: 60%;\n    background-repeat: no-repeat;\n    background-position: center;\n    background-color: #f7f7f7;\n\n    top: 50%;\n    -ms-transform: translateY(-50%);\n    transform: translateY(-50%);\n}\n",""])}}]);