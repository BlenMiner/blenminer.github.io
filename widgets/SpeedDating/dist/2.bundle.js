(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{14:function(t,e,n){var o=n(46);"string"==typeof o&&(o=[[t.i,o,""]]);var a={insert:"head",singleton:!1};n(10)(o,a);o.locals&&(t.exports=o.locals)},16:function(t,e,n){var o=n(56);"string"==typeof o&&(o=[[t.i,o,""]]);var a={insert:"head",singleton:!1};n(10)(o,a);o.locals&&(t.exports=o.locals)},3:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n(4),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("loading",{attrs:{value:t.loading,message:"Loading",progresscolor:"#005685"}}),t._v(" "),n("v-btn",{on:{click:function(e){return t.swymAddPost(t.communityId,"test","body",0)}}},[t._v("Add Post")])],1)};i._withStripped=!0;var r=n(75);n(27),n(34);a.a.use(r.a);var s=new a.a,l=new r.a({icons:{iconfont:"mdi"}});var d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{staticStyle:{position:"absolute"},attrs:{row:"","justify-center":""}},[n("v-dialog",{attrs:{persistent:"",content:"","content-class":"centered-dialog"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[n("v-container",{attrs:{"fill-height":""}},[n("v-layout",{attrs:{column:"","justify-center":"","align-center":""}},[n("v-progress-circular",{attrs:{indeterminate:"",size:70,width:7,color:t.progresscolor}}),t._v(" "),null!=t.message?n("h1",[t._v(t._s(t.message))]):t._e()],1)],1)],1)],1)};d._withStripped=!0;var u={name:"Loading",props:{value:{type:Boolean,default:!1},message:{type:String,default:null},progresscolor:{type:String,default:"purple"}},data:function(){return{}}},c=(n(45),n(19)),p=n(20),m=n.n(p),f=n(71),g=n(76),v=n(72),h=n(25),w=n(73),y=Object(c.a)(u,d,[],!1,null,null,null);function S(t,e){requirejs(["DS/WAFData/WAFData"],(function(n){n.authenticatedRequest(t,e)}))}m()(y,{VContainer:f.a,VDialog:g.a,VLayout:v.a,VProgressCircular:h.a,VRow:w.a}),y.options.__file="src/components/loading.vue";var _={name:"App",components:{loading:y.exports},data:function(){return{search:null,msg:"[NULL]",loading:!1,tenantId:0,tenants:[],communityId:""}},computed:{message:function(){return this.$store.state.message}},mounted:function(){var t=this,e=this;widget.name="",s.$on("onSearch",(function(t){e.search=t})),s.$on("reloadwidget",(function(){e.reload()})),e.loading=!0,void 0===widget.id?setTimeout((function(){e.tenantDataLoaded([{id:-1}])}),1e3):requirejs(["DS/i3DXCompassServices/i3DXCompassServices"],(function(e){e.getPlatformServices({platformId:void 0,onComplete:t.tenantDataLoaded})}))},methods:{tenantDataLoaded:function(t){this.tenants=[];for(var e=[],n=0,o=0;o<t.length;o++)void 0!==t[o]["3DSwym"]&&(e.push({value:"".concat(n++),label:"".concat(t[o].platformId," - ").concat(t[o].displayName)}),this.tenants.push(t[o]));widget.addPreference({name:"_CurrentTenantID_",type:"list",label:"Tenant",defaultValue:"0",options:e}),s.$emit("reloadwidget")},swymCommunities:function(t){if(void 0!==widget.id){var e=this.tenants[this.tenantId]["3DSwym"];S(e+"/api/index/tk",{method:"GET",onComplete:function(n){var o=JSON.parse(n).result.ServerToken;S(e+"/api/community/listmycommunities/creation_granted_for/post",{method:"GET",headers:{"X-DS-SWYM-CSRFTOKEN":o},onComplete:function(e){var n=JSON.parse(e);t(n)},onFailure:function(t){console.error(t)}})},onFailure:function(t){console.error(t)}})}else t({result:[{id:"1245152",title:"hello"},{id:"1291515",title:"world"}]})},swymAddPost:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(void 0!==widget.id){var a=this,i=a.tenants[a.tenantId]["3DSwym"];S(i+"/api/index/tk",{method:"GET",onComplete:function(r){var s=JSON.parse(r).result.ServerToken,l={title:e,community_id:t,message:n,published:o.toString()};a.swymPost(s,i+"/api/post/add",l)},onFailure:function(t){console.error(t)}})}},swymPost:function(t,e,n){fetch(e,{method:"POST",body:JSON.stringify({params:n}),headers:{"Content-type":"application/json;charset=UTF-8","X-DS-SWYM-CSRFTOKEN":t}}).then((function(t){console.log(t)})).catch((function(t){console.error(t)}))},reload:function(){var t=this;t.tenantId=widget.getValue("_CurrentTenantID_"),t.communityId=widget.getValue("_ComunityId_"),t.loading=!0,t.swymCommunities((function(e){for(var n=[],o=0;o<e.result.length;++o)n.push({value:"".concat(e.result[o].id),label:"".concat(e.result[o].title)});widget.addPreference({name:"_ComunityId_",type:"list",label:"Community",defaultValue:0==n.length?"0":n[0].value,options:n}),t.loading=!1}))}}},b=(n(55),n(74)),C=n(77),D=Object(c.a)(_,i,[],!1,null,null,null);m()(D,{VApp:b.a,VBtn:C.a}),D.options.__file="src/components/app.vue";var T=D.exports,I=n(65);a.a.use(I.a);var k=new I.a.Store({state:{},mutations:{},getters:{}});e.default=function(){widget.addEvent("onLoad",(function(){o.b.disableCSS(!0),window.title="KEONYS",widget.setTitle(window.title),new a.a({store:k,vuetify:l,render:function(t){return t(T)}}).$mount("app")})),widget.addEvent("onRefresh",(function(){s.$emit("reloadwidget")})),widget.addEvent("onSearch",(function(t){s.$emit("onSearch",t)})),widget.addEvent("onResetSearch",(function(){s.$emit("onSearch","")}))}},45:function(t,e,n){"use strict";var o=n(14);n.n(o).a},46:function(t,e,n){(t.exports=n(5)(!1)).push([t.i,"\n.dialog.centered-dialog,\r\n.v-dialog.centered-dialog\r\n{\r\n    background: whitesmoke;\r\n    box-shadow: none;\r\n    border-radius: 6px;\r\n    width: auto;\r\n    color: #222;\n}\r\n",""])},55:function(t,e,n){"use strict";var o=n(16);n.n(o).a},56:function(t,e,n){(t.exports=n(5)(!1)).push([t.i,"\nhtml, body {\r\n    overflow-y: auto !important;\r\n    width: 100%;\r\n    padding: 0;\r\n    margin: 0;\r\n    background-color:#ffffff;\n}\n.loading-dialog {\r\n   background-color: #303030;\n}\r\n",""])}}]);